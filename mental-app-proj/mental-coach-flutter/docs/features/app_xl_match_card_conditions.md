# מסמך תנאים ותצוגות - AppXlMatchCard (גרסה מפושטת)

## משתנה תנאי מרכזי

### **isBeforePrepareMatch**
```dart
hasEmptyGoalAndAction(match)
```
- **משמעות**: בודק אם המשחק הוא לפני הכנה (אין מטרה ואין פעולות)
- **ערך true**: המשחק עדיין לא הוכן
- **ערך false**: יש הכנה פעילה למשחק

---

## 2 מצבי תצוגה בלבד

### מצב 1: אין הכנה למשחק
**תנאי**: `isBeforePrepareMatch == true`

**מה מוצג**:
- ✅ תמונת רקע של המשחק
- ✅ שם קבוצת הבית
- ✅ המילה "נגד"
- ✅ שם קבוצת החוץ
- ✅ קו מפריד
- ✅ **כפתור "הכנה למשחק"** (כפתור מרכזי)

**מטרה**: להציג את המשחק הקרוב ולאפשר למשתמש להתחיל בהכנה

---

### מצב 2: יש הכנה פעילה למשחק
**תנאי**: `isBeforePrepareMatch == false`

**מה מוצג**:
- ✅ **כותרת "המטרות שלי"** עם כפתור עריכה
- ✅ קו מפריד
- ✅ **"מטרה למשחק"** - המטרה שנבחרה (בתיבה)
- ✅ **"פעולות"** - רשימת הפעולות (כל פעולה בתיבה נפרדת)
- ✅ **"יעד אופי"** - יעד האופי שנבחר (בתיבה)
- ✅ **כפתור "סגירת משחק"** (כפתור ראשי בתחתית)

**מטרה**: להציג את ההכנה הפעילה ולאפשר למשתמש לסגור את המשחק

---

## טבלת סיכום

| מצב | isBeforePrepareMatch | תיאור | כפתור ראשי |
|-----|---------------------|--------|------------|
| 1 | ✅ | אין הכנה למשחק | הכנה למשחק |
| 2 | ❌ | יש הכנה פעילה | סגירת משחק |

---

## כפתורי פעולה

### כפתור "הכנה למשחק"
- **מוצג במצב**: 1 בלבד
- **מוביל ל**: `/match-prepare/${match?.id}`
- **מטרה**: להתחיל את תהליך ההכנה למשחק

### כפתור "עריכה"
- **מוצג במצב**: 2 בלבד
- **מוביל ל**: `/match-prepare/${match?.id}`
- **מטרה**: לערוך את ההכנה הקיימת

### כפתור "סגירת משחק"
- **מוצג במצב**: 2 בלבד
- **מוביל ל**: `/match-investigation/${match?.id}`
- **מטרה**: לסגור את המשחק ולעבור לתחקור

---

## הסבר הלוגיקה המפושטת

הלוגיקה החדשה מתבססת על עיקרון פשוט:
- **אם אין הכנה** - מציגים את המשחק הקרוב עם אפשרות להתחיל הכנה
- **אם יש הכנה** - מציגים את ההכנה הפעילה עם אפשרות לסגור את המשחק

אין תלות בתאריך המשחק, מצב התחקור, או כל פרמטר אחר. 
הכל מבוסס על קיום או אי-קיום של הכנה פעילה.